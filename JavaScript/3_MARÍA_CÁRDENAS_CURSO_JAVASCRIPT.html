<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>María Cárdenas</title>
</head>

<body>
    <div id="demo" style="width: 200px">Este es un texto</div>
    <div id="demo1">Esto es algo de contenido</div>
    <div id="demo2">
        <p id="par1">Este es un parrafo.</p>
        <p id="par2">Este es otro parrafo.</p>
    </div>
    <div id="demo3">
        <p id="par3">Este es un parrafo</p>
        <p id="par4">Este es otro parrafo</p>
    </div>
    <!--Animación simple.-->
    <div id="container">
        <div id="box"> </div>
        <style>
            #container {
                width: 200px;
                height: 200px;
                background: green;
                position: relative;
                margin-bottom: 3%;
            }

            #box {
                width: 50px;
                height: 50px;
                background: red;
                position: absolute;
            }
        </style>
    </div>
    <button onclick="show()">Haz clic en mí</button>
    <input type="text" id="name" onchange="change()">
    <button id="demo4">Iniciar</button>
    <div>
        <button onclick="Anterior()">Anterior</button>
        <img id="slider" src="http://www.sololearn.com/uploads/slider/1.jpg" width="200px" height="100px" />
        <button onclick="Siguiente()">Siguiente</button>
    </div>
    <form onsubmit="return validate()" method="post">
        Número: <input type="text" name="num1" id="num1" />
        <br />
        Repetir: <input type="text" name="num2" id="num2" />
        <br />
        <input type="submit" value="Submit" />
    </form>
    <script>
        var de = document.getElementById("demo");
        de.style.color = "6600FF";
        de.style.width = "100px";
        //El estilo de los elementos HTML también se puede cambiar usando JavaScript.

        //Creando un nuevo parrafo
        var p = document.createElement("p");
        var node = document.createTextNode("Algún texto nuevo");
        //Agregando el texto al parrafo
        p.appendChild(node);

        var div1 = document.getElementById("demo1");
        //Agregando el parrafo al div1
        div1.appendChild(p);
        var parent = document.getElementById("demo2");
        var child = document.getElementById("par1");
        parent.removeChild(child);

        //Reemplazo de elementos
        var p3 = document.createElement(p3);
        var node1 = document.createTextNode("Esto es nuevo");
        p3.appendChild(node1);
        var parent1 = document.getElementById("demo3");
        var child1 = document.getElementById("par3");
        parent1.replaceChild(p3, child1);

        //Animaciones
        var t = setInterval(move, 500); /*Usando el método setInterval (), nos permite crear un temporizador y llamar a una función para cambiar propiedades repetidamente a intervalos definidos (en milisegundos)*/

        //Posicion inicial
        var pos = 0;
        //Nuestro elemento de caja
        var box = document.getElementById("box");
        function move() {
            pos += 1;
            box.style.left = pos + "px"; //px = pixels
        }
        //La función move (), cambia la posición del cuadro (que es nuestro ejemplo)

        var t1 = setInterval(mover, 10); //Este código define un temporizador que llama a la función move () cada 10 milisegundos.

        //Para detener la animación, agregamos una simple marca a la función move () y usamos el método clearInterval () para detener el temporizador.
        function move() {
            if (pos >= 150) {
                clearInterval(t);
            }
            else {
                pos += 1;
                box.style.left = pos + "px";
            }
        }

        //El código final de la animación de caja
        var pos = 0;
        //Nuestro elemento de caja
        var box = document.getElementById("box");
        var t2 = setInterval(move, 10);
        function move() {
            if (pos >= 150) {
                clearInterval(t2);
            }
            else {
                pos += 1;
                box.style.left = pos + "px";
            }
        }

        //Manejo de eventos
        function show() {
            alert("Hola");
        }

        /*Eventos
            Los eventos onload y onunload se activan cuando el usuario entra o sale de la página.
                <body onload="doSomething()">*/

        /*El evento onchange se usa principalmente en cuadros de texto. 
            Se llama al controlador de eventos cuando el texto dentro del cuadro de texto cambia y se pierde el foco del elemento*/
        function change() {
            var x = document.getElementById("name");
            x.value = x.value.toUpperCase();
        }
        /*El método addEventListener () adjunta un controlador de eventos a un elemento 
            sin sobrescribir los controladores de eventos existentes. 
                element.addEventListener(event, function, useCapture);*/
        //El primer parámetro "event" es el tipo de evento (como "clic" o "mousedown").
        //El segundo parámetro "function" es la función que queremos llamar cuando ocurre el evento.
        //El tercer parámetro "useCapture" es un valor booleano que especifica si se utilizará el burbujeo de eventos o la captura de eventos (opcional)

        elemento.addEventListener("clic", myFunction);
        elemento.addEventListener("mouseover", myFunction);
        function myFunction() {
            alert("¡Hola mundo!");
        }
        //Esto agrega dos detectores de eventos al elemento

        //Podemos eliminar uno de los oyentes:
        element.removeEventListener("mouseover", myFunction);

        //Este es un controlador de eventos que se elimina a sí mismo después de ser ejecutado
        var btn = document.getElementById("demo4");
        btn.addEventListener("click", myFunction);
        function myFunction() {
            alert(Math.random());
            btn.removeEventListener("click", myFunction);
        }

        //Propagación de eventos. 
        /*Ejemplo: Si se tiene un elemento <p> dentro de un elemento <div>, y el usuario hace clic en el elemento <p>
           ¿qué evento "clic" del elemento debe manejarse primero?*/
        /*Burbujeo (bubbling) el evento del elemento más interno se maneja primero y luego se maneja el evento del elemento externo. 
            es decir primero el elemento <p> y luego el elemento <div>*/
        /*Captura (capturing) el evento del elemento más externo se maneja primero y luego el interno.
            es decir primero el elemento <div> y luego el elemento <p>*/


        //Capturando la propagación
        elem1.addEventListener("click", myFunction, true);

        //Propagación burbujeante
        elem2.addEventListener("click", myFunction, false);
        /*El valor predeterminado es falso , lo que significa que se utiliza la propagación de burbujeo; 
            cuando el valor se establece en verdadero , el evento utiliza la propagación de captura*/

        //En este ejemplo se definen imágenes de muestra en una matriz:
        var images = [
            "http://www.sololearn.com/uploads/slider/1.jpg",
            "http://www.sololearn.com/uploads/slider/2.jpg",
            "http://www.sololearn.com/uploads/slider/3.jpg"
        ];

        var num = 0;
        function Siguiente() {
            var slider = document.getElementById("slider");
            num++;
            if (num >= images.length) {
                num = 0;
            }
            slider.src = images[num];
        }
        function Anterior() {
            var slider = document.getElementById("slider");
            num--;
            if (num < 0) {
                num = images.length - 1;
            }
            slider.src = images[num];
        }
        //La variable num contiene la imagen actual.

        function validate() {
            var n1 = document.getElementById("num1");
            var n2 = document.getElementById("num2");
            if (n1.value != "" && n2.value) {
                return true;
            }
        }
        alert("Los valores deben ser iguales y no en blanco")
        return false;

        //Variables y cadenas de ES6
        var a = 10;
        const b = 'hola';
        let c = true; //let permite declarar variables que tienen un alcance limitado al bloque, declaración o expresión en la que se usan.

        if (true) {
            let name = 'Jack';
        }
        alert(name); //genera un error

        function varTest() {
            var y = 1;
            if (true) {
                var y = 2; //misma variable
                console.log(y); //2
            }
            console.log(y); //2
        }

        function letTest() {
            let y = 1;
            if (true) {
                let y = 2; //variable diferente
                console.log(y); //2
            }
            console.log(y); //1
        }

        //las variables const son inmutables ; no se permite reasignarlas.
        const a = "Hello";
        a = 'Bye';

        //Literales de plantilla en ES6
        //ES6 introduce una nueva forma de generar valores de variables en cadenas.
        let name = 'David';
        let msg = `¡Bienvenido $ {nombre}!`;
        console.log(msg);
        //El $ {} expresión es un marcador de posición, y puede incluir cualquier expresión

        let a = 8;
        let b = 34;
        let msg = `La suma es $ {a + b}`;
        console.log(msg);

        //Bucles en ECMAScript 6
        let arr = [1, 2, 3];
        for (let k = 0; k < arr.length; k++) {
            console.log(arr[k]);
        }
        //El bucle for es utilizado para iterar sobre los valores en una lista

        let obj = { a: 1, b: 2, c: 3 };
        for (let v in obj) {
            console.log(v);
        }
        //El bucle for ... in está diseñado para iterar sobre las claves enumerables de un objeto.

        let list = ["x", "y", "z"];
        for (let val of list) {
            console.log(val);
        }
        //El bucle for ... of , que crea un bucle que itera sobre objetos iterables.

        for (let ch of "Hola") {
            console.log(ch);
        }
        //El bucle for ... of también funciona para otros objetos iterables, incluidas las cadenas

        //Antes de ES6, se definía una función de JavaScript como esta:
        function add(x, y) {
            var sum = x + y;
            console.log(sum);
        }

        //ES6 introduce una nueva sintaxis para escribir funciones. La misma función de arriba se puede escribir como:
        const add = (x, y) => {
            let sum = x + y;
            console.log(sum);
        }

        const arr = [2, 3, 7, 8];

        arr.forEach(v => {
            console.log(v * 2);
        });

        //En ES6, podemos poner los valores predeterminados directamente en la firma de las funciones.
        function test(a, b = 3, c = 42) {
            return a + b + c;
        }
        console.log(test(5)); //5

        //Ejemplo de una función de flecha con parámetros predeterminados
        const test = (a, b = 3, c = 42) => {
            return a + b + c;
        }
        console.log(test(5)); //50 

        //La nueva abreviatura de definición de método no requiere los dos puntos (:) o la palabra clave de función , como en la función de crecimiento de la declaración del objeto de árbol:
        let tree = {
            height: 10,
            color: 'green',
            grow() {
                this.height += 2;
            }
        };
        tree.grow();
        console.log(tree.height); //12

        //Nombres de propiedades calculados
        //Ejemplo1
        let prop = 'name';
        let id = '1234';
        let mobile = '08923';
        let user = {
            [prop]: 'Jack',
            [`user_${id}`]: `${mobile}`
        };

        //Ejemplo2
        var i = 0;
        var a = {
            ['foo' + ++i]: i,
            ['foo' + ++i]: i,
            ['foo' + ++i]: i
        };

        //Ejemplo3
        var param = 'size';
        var config = {
            [param]: 12,
            ['mobile' + param.charAt(0).toUpperCase() +
                param.slice(1)]: 4
        };
        console.log(config.mobileSize);

        //Object.assign () en ES6, permite combinar múltiples fuentes en un objetivo para crear un único objeto nuevo.
        let persona = {
            name: 'Jack',
            age: 18,
            sex: 'male'
        };
        let estudiante = {
            name: 'Bob',
            age: 20,
            xp: '2'
        };
        let newStudent = Object.assign({}, persona, estudiante);
        //el primer parámetro es el objeto de destino al que desea aplicar nuevas propiedades.
        //Todos los parámetros posteriores al primero se utilizarán como fuentes para el objetivo. 

        //Desestructuración de matrices en ES6
        let arr = ['1', '2', '3'];
        let [one, two, three] = arr;
        console.log(one); //1
        console.log(two); //2
        console.log(three); //3

        //Podemos usar también desestructurar una matriz devuelta por una función.
        let a = () => {
            return [1, 3, 2];
        };
        let [one, , two] = a();

        let a, b, c = 4, d = 8;
        [a, b = 6] = [2]; //a = 2, b = 6

        [c, d] = [d, c]; // c = 8, d = 4

        //Desestructuración de objetos en ES6 descomprime las propiedades en distintas variables.
        let obj = { h: 100, s: true };
        let { h, s } = obj;
        console.log(h); //100
        console.log(s); //true

        //Podemos asignar sin declaración, pero hay algunos requisitos de sintaxis para eso:
        let a, b;
        ({ a, b } = { a: 'Hola', b: 'Jack' });
        console.log(a + b); //Hola Jack

        let { a, b } = { a: 'Hola', b: 'Jack' };
        console.log(a + b);

        //También se puede asignar el objeto a nuevos nombres de variable.
        var o = { h: 42, s: true };
        var { h: foo, s: bar } = o;

        //console.log(h); //Error
        console.log(foo); //42

        //Finalmente, se puede asignar valores predeterminados a las variables, en caso de que el valor desempaquetado del objeto no esté definido.
        var obj = { id: 42, name: "Jack" };

        let { id = 10, age = 20 } = obj;

        console.log(id); //42
        console.log(age); //20

        //Parámetros de descanso de ES6
        //Por ejemplo, escribamos una función que verifique si una matriz contiene todos los argumentos pasados:
        function constainAll(arr) {
            for (let k = 1; k < arguments.length; k++) {
                let num = arguments[k];
                if (arr.indexOf(num) === -1) {
                    return false;
                }
            }
            return true;
        }
        let x = [2, 4, 6, 7];
        console.log(containsAll(x, 2, 4, 7));
        console.log(containsAll(x, 6, 4, 9));

        //El operador de propagación con ES6
        const myFunction = (w, x, y, z) => {
            console.log(w + x + y + z);
        };
        let args = [1, 2, 3];
        myFunction(...args, 4);

        //Clases de ES6
        //Una clase usa la clase de palabra clave y contiene un método constructor para inicializar. 
        class Rectangle {
            constructor(height, width) {
                this.height = height;
                this.width = width;
            }
        }

        //Luego, una clase declarada se puede usar para crear múltiples objetos usando la palabra clave new .
        const square = new Rectangle(5, 5);
        const poster = new Rectangle(2, 3);

        //Métodos de clase en ES6
        class Rectangle {
            constructor(height, width) {
                this.height = height;
                this.width = width;
            }
            get area() {
                return this.calcArea();
            }
            calcArea() {
                return this.height * this.width;
            }
        }
        const square = new Rectangle(5, 5);
        console.log(square.area); //25
        //En el código anterior, area es un captador, calcArea es un método.

        //Herencia en ES6
        /*La palabra clave extiende se usa en declaraciones de clase o expresiones de clase 
            para crear un hijo de una clase. El hijo hereda las propiedades y los métodos del padre.*/
        class Animal {
            constructor(name) {
                this.name = name;
            }
            speak() {
                console.log(this.name + 'hace ruido');
            }
        }
        class Dog extends Animal {
            speak() {
                console.log(this.name + 'ladra');
            }
        }
        let dog = new Dog('Rex');
        dog.speak();
        //En el código anterior, la clase Dog es hija de la clase Animal , heredando sus propiedades y métodos

        //Promesas ES6
        new Promise(function (resolve, reject) {
            // Work
            if (success)
                resolve(result);
            else
                reject(Error("failure"));
        });

        function asyncFunc(work) {
            return new Promise(function (resolve, reject) {
                if (work === "")
                    reject(Error("Nothing"));
                setTimeout(function () {
                    resolve(work);
                }, 1000);
            });
        }

        asyncFunc("Work 1") //Tarea 1
            .then(function (result) {
                console.log(result);
                return asyncFunc("Work 2"); //Tarea 2
            }, function (error) {
                console.log(error);
            })
            .then(function (result) {
                console.log(result);
            }, function (error) {
                console.log(error);
            });
        console.log("End");


        //Problemas

        //Planificador de viajes
        function main() {
            var distance = parseInt(readLine(), 10);
            //your code goes here
            const speed = 40;
            const time = distance / speed;
            const timeInMinutes = time * 60;
            console.log(timeInMinutes);

        }

        //El caracol en el pozo
        function main() {
            var depth = parseInt(readLine(), 10);
            //your code goes here

            var dia = 0;
            var total = 0;
            while (total < depth) {
                dia = dia + 1;
                total = total + 7;
                if (total >= depth) {
                    console.log(dia);
                    break
                }
                total = total - 2;
            }
        }

        //Convertidor de moneda
        function main() {
            var amount = parseFloat(readLine(), 10);
            var rate = parseFloat(readLine(), 10);

            function convert(amount, rate) {
                return amount * rate;
            }

            console.log(convert(amount, rate));
        }

        //Gerente de contacto 
        function contact(name, number) {
            this.name = name;
            this.number = number;
            this.print = print;
        }

        function print() {
            console.log(this.name + ": " + this.number);
        }

        var a = new contact("David", 12345);
        var b = new contact("Amy", 987654321)
        a.print();
        b.print();

        //Gerente de la tienda
        function main() {
            var increase = parseInt(readLine(), 10);
            var prices = [98.99, 15.2, 20, 1026];

            for (var i = 0; i <= prices.length - 1; i++) {
                prices[i] = prices[i] + increase;
            }
            console.log(prices);
        }

        //Palabras
        class Add {
            constructor(...words) {
                this.words = words;
            }
            //your code goes here
            print() {
                var y = "";
                for (x of this.words) {
                    if (x == ",") {
                        x = "";
                    }
                    else {
                        y += "$" + x;
                    }
                }

                y = y + "$";
                console.log(y);
            }
        }

        var x = new Add("hehe", "hoho", "haha", "hihi", "huhu");
        var y = new Add("this", "is", "awesome");
        var z = new Add("lorem", "ipsum", "dolor", "sit", "amet", ",", "consectetur", "adipiscing", "elit");
        x.print();
        y.print();
        z.print();
    </script>
</body>

</html>